def adv_search_shelf(q, include_shelf_inputs, exclude_shelf_inputs):
    q = q.outerjoin(ub.BookShelf, db.Books.id == ub.BookShelf.book_id)\
        .filter(or_(ub.BookShelf.shelf == None, ub.BookShelf.shelf.notin_(exclude_shelf_inputs)))
    if len(include_shelf_inputs) > 0:
        q = q.filter(ub.BookShelf.shelf.in_(include_shelf_inputs))
    return q

def numberOfUniqueGoodSubsequences(self, binary):
    """
    :type binary: str
    :rtype: int
    """
    MOD = 10**9+7
    ends0, ends1 = 0, 0
    has_zero = False
    for b in binary:
        if b == '1':
            ends1 = (ends0+ends1+1)%MOD  # curr subsequences end with 1 is all prev distinct subsequences appended by 1 and plus "1"
        else:
            ends0 = (ends0+ends1)%MOD  # curr subsequences end with 0 is all prev distinct subsequences appended by 0 and don't plus "0"
            has_zero = True
    return (ends0+ends1+int(has_zero))%MOD  # add "0" if has_zero


